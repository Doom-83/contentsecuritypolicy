//>>built
define("epi/shell/widget/_ActionConsumer",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/aspect","epi/shell/widget/_ActionProviderBase"],function(_1,_2,_3,_4,_5){return _1(_5,{_actionProviders:null,constructor:function(_6){this._actionProviders=[];if(_6&&_2.isArray(_6.actionProviders)){_6.actionProviders.forEach(function(_7){this.addProvider(_7);},this);}},isProviderRegistered:function(_8){if(!_8){return false;}return this._actionProviders.some(function(_9){return _9.provider===_8;});},addProvider:function(_a){if(!_a||this.isProviderRegistered(_a)){return;}this._actionProviders.push({provider:_a,connects:[_4.after(_a,"onActionAdded",_2.hitch(this,"onActionAdded"),true),_4.after(_a,"onActionRemoved",_2.hitch(this,"onActionRemoved"),true),_4.after(_a,"onActionPropertyChanged",_2.hitch(this,"onActionPropertyChanged"),this)]});},removeProvider:function(_b){if(!_b||!this.isProviderRegistered(_b)){return;}for(var i=0;i<this._actionProviders.length;i++){if(this._actionProviders[i].provider===_b){var _c=this._actionProviders.splice(i,1);_3.forEach(_c.connects,function(_d){_d.remove();});break;}}},getActions:function(){var _e=[];this._actionProviders.forEach(function(_f,_10){_e=_e.concat(this._getProviderActions(_f.provider));},this);return _e;},_getProviderActions:function(_11){if(_11&&typeof (_11.getActions)=="function"){return _11.getActions();}else{return [];}}});});