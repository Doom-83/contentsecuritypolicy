//>>built
define("epi/shell/widget/ContextMenu",["dojo/_base/declare","dojo/aspect","dojo/dom-geometry","dijit/Menu","dijit/popup","epi/shell/command/_CommandConsumerMixin","epi/shell/command/builder/MenuAssembler","epi/shell/command/builder/MenuBuilder","epi/shell/command/builder/MenuWithSeparatorBuilder"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9){var _a;_2.before(_5,"open",function(_b){var _c=_b.popup;if(_c&&_c instanceof _a&&_c.popupParent){_b.parent=_c.popupParent;return [_b];}});return _a=_1([_4,_6],{category:null,leftClickToOpen:true,postCreate:function(){this.inherited(arguments);var _d={builder:new _8(),target:this,category:this.category},_e;var _f=[_d,{builder:new _9(),target:this,category:"menuWithSeparator"},{builder:new _8(),target:this,category:"popup"}];_e=new _7({configuration:_f,commandSource:this});_e.build();},scheduleOpen:function(_10,_11,_12,_13){this._scheduleOpen(_10,_11,_12,_13);},forceOpen:function(e){if(!e.target||!e.target.parentElement){return;}var _14=e.target.parentElement.querySelector(".epi-iconContextMenu");if(!_14){return;}e.stopPropagation();e.preventDefault();var _15=_3.position(_14);this.scheduleOpen(_14,null,{x:_15.x,y:_15.y});}});});