//>>built
define("epi/shell/xhr/errorHandler",["dojo/_base/declare","dojo/when","dojo/_base/json","dgrid/List","dgrid/extensions/DijitRegistry","epi/shell/DialogService","../widget/dialog/Alert","../widget/dialog/ErrorDialog"],function(_1,_2,_3,_4,_5,_6,_7,_8){var _9=_1([_4,_5]),_a;function _b(_c){if(typeof _c==="string"){try{return _3.fromJson(_c);}catch(e){console.warn("Failed to parse responseText as json",e);}}return {};};_a={forXhr:function(_d){var _e,_f,_10;if(_d.status>=500){_8.showXmlHttpError(_d,_d);}else{_e=_b(_d.responseText);_f={description:_e.message||_d.message};if(_e.additionalInformation instanceof Array){_10=new _9({className:"epi-grid-max-height--300"});_10.renderArray(_e.additionalInformation);_10.startup();_f.content=_10;}return _6.alert(_f);}},wrapXhr:function(_11){_11=_2(_11);_11.otherwise(_a.forXhr);return _11;}};return _a;});