//>>built
define("epi/shell/widget/_ModelBindingMixin",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","epi/shell/DestroyableByKey"],function(_1,_2,_3,_4){return _2([_4],{model:null,modelBindingMap:null,constructor:function(_5){},postMixInProperties:function(){this.inherited(arguments);if(!this.modelBindingMap){this.modelBindingMap={};}},_setModelAttr:function(_6){this.destroyByKey(this.model);this._set("model",_6);this._setupModelBindings();},_setupModelBindings:function(){if(!this.model){return;}var _7=_3.hitch(this,"_modelWatch");var _8=this._getNormalizedBindingMap();for(var _9 in _8){var _a=_8[_9];this.ownByKey(this.model,this.model.watch(_9,_7));_1.forEach(_a,function(_b){this.set(_b,this.model.get(_9));},this);}},_modelWatch:function(_c,_d,_e){var _f=this._getNormalizedBindingMap();var _10=_f[_c];_1.forEach(_10,function(_11){this.set(_11,_e);},this);},_getNormalizedBindingMap:function(){var _12={};if(this.modelBindingMap instanceof Array){this.modelBindingMap.forEach(function(_13){_12[_13]=[_13];});return _12;}for(var _14 in this.modelBindingMap){if(!this.modelBindingMap.hasOwnProperty(_14)){continue;}var _15=this.modelBindingMap[_14];if(!(_15 instanceof Array)){_15=[_15];}_12[_14]=_15;}return _12;}});});