//>>built
define("epi/shell/layout/_PreserveRatioMixin",["dojo/_base/declare","dojo/_base/lang","dojo/aspect","dijit/Destroyable"],function(_1,_2,_3,_4){return _1([_4],{postCreate:function(){this.inherited(arguments);this.own(_3.before(this,"resize",_2.hitch(this,this._adjustSplitter)));},_adjustSplitter:function(){if(typeof this.getChildren==="function"){var _5=this.getChildren();if(_5.length===0){return;}var _6=_5.filter(function(_7){return (_7.splitter===true);});var _8=_5.filter(function(_9){return (_9.splitter!==true);});var _a=_6.length;var _b=0;for(var _c in _6){_b=this._calcTrueMax(_8,_6,_6[_c],_a);_6[_c].set("style",this._getStyle(_6[_c],_b));}}},_getStyle:function(_d,_e){var _f=null;switch(_d.region){case "top":case "bottom":_f="height: "+this._calcRatio(_d.get("h"),_e)+"%;";break;case "left":case "right":_f="width: "+this._calcRatio(_d.get("w"),_e)+"%;";break;}return _f;},_calcRatio:function(_10,max){return (_10/max)*100;},_calcTrueMax:function(_11,_12,_13,_14){var _15="w";if(_13.region==="bottom"||_13.region==="top"){_15="h";}var max=_13.get(_15);var _16=_11.filter(function(_17){return _17.region==="center";})[0].get(_15);var _18=_13._splitterWidget.get(_15);var _19=function(_1a){if(_15==="w"&&(_1a.region==="right"||_1a.region==="left")){max+=_1a.get("w");}else{if(_15==="h"&&(_1a.region==="bottom"||_1a.region==="top")){max+=_1a.get("h");}}};_11.forEach(_19);_12.forEach(function(_1b){if(_1b===_13){return;}_19(_1b);});return max+_16+(_18*_14);}});});